#!/usr/bin/env bash
set -euf -o pipefail
# DEPRECATED tool. Use 'hw-config-boot-device-format-lvm' instead.
declare script_dir
script_dir="$(cd "$(dirname "$0")" > /dev/null && pwd)"

default_nixos_partition_size="60G"
nixos_partition_size="${1:-${default_nixos_partition_size}}"

"$script_dir/hw-config-boot-device-format-lvm" \
  "/dev/sda" "system_and_data" \
  "nixos" "nixos" "ext4" \
  "$nixos_partition_size" \
  "data" "data" "ext4"
